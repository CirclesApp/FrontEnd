(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-106ebf12"],{"2f21":function(e,r,n){"use strict";var s=n("79e5");e.exports=function(e,r){return!!e&&s((function(){r?e.call(null,(function(){}),1):e.call(null)}))}},"3dd1":function(e,r,n){"use strict";var s=n("df07"),t=n.n(s);t.a},"55dd":function(e,r,n){"use strict";var s=n("5ca1"),t=n("d8e8"),a=n("4bf8"),i=n("79e5"),c=[].sort,u=[1,2,3];s(s.P+s.F*(i((function(){u.sort(void 0)}))||!i((function(){u.sort(null)}))||!n("2f21")(c)),"Array",{sort:function(e){return void 0===e?c.call(a(this)):c.call(a(this),t(e))}})},cd5d:function(e,r,n){"use strict";n.r(r);var s=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"communityMembers"},[n("div",{staticClass:"communityMembers__title"},[e._v("멤버관리")]),n("div",{staticClass:"communityMembers__wrapper"},[n("table",{staticClass:"communityMembers__memberTable"},[n("thead",[n("tr",[n("th",{staticStyle:{width:"10%","text-align":"center"}},[e._v("번호")]),n("th",{staticStyle:{width:"40%"},on:{click:function(r){return e.orderBy("user.name")}}},[e._v(" 이름 "),n("i",{staticClass:"mdi mdi-arrow-down",class:{"order-active":"user.name"==e.sortKey,"order-rotate":e.sortBy}})]),n("th",{staticStyle:{width:"50%"},on:{click:function(r){return e.orderBy("rank")}}},[e._v(" 역할 "),n("i",{staticClass:"mdi mdi-arrow-down",class:{"order-active":"rank"==e.sortKey,"order-rotate":e.sortBy}})])])]),n("tbody",e._l(e.getOrderedMembers,(function(r,s){return n("tr",{key:r._id,class:{active:e.currentUser==s},on:{click:function(r){e.currentUser=s}}},[n("td",[e._v(e._s(s))]),n("td",[e._v(e._s(r.user.name))]),n("td",[e._v(" "+e._s(e.getRankString(r.rank))+" "),"admin"==r.rank?n("i",{staticClass:"mdi mdi-key"}):e._e()])])})),0)]),n("div",{staticClass:"communityMembers__controlPanel"},[n("div",{staticClass:"rankEditor"},[n("h2",{staticClass:"name"},[e._v("권한 그룹")]),n("div",{staticClass:"rankEditor__wrapper"},[n("div",{staticClass:"ranks__wrapper"},[n("ul",{staticClass:"ranks"},[e._l(e.getClub.ranks,(function(r,s){return n("li",{key:s,class:{"ranks__item-active":e.currentRank==s},on:{click:function(r){e.currentRank=s}}},["admin"!=e.getClub.ranks[s].name&&"default"!=e.getClub.ranks[s].name?n("input",{directives:[{name:"model",rawName:"v-model",value:r.name,expression:"rank.name"}],attrs:{type:"text",placeholder:"권한명"},domProps:{value:r.name},on:{input:function(n){n.target.composing||e.$set(r,"name",n.target.value)}}}):n("span",[e._v(e._s(r.name))])])})),n("li",{staticClass:"rankcreate",on:{click:e.appendRank}},[e._v("+")])],2),n("div",{staticClass:"rankPermission"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"1",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"1")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="1",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 글 쓰기 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"2",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"2")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="2",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 글 읽기 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"3",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"3")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="3",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 글 삭제 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"11",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"11")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="11",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 수상 쓰기 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"12",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"12")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="12",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 수상 읽기 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"13",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"13")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="13",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 수상 삭제 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"31",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"31")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="31",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 지원서 수락 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"32",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"32")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="32",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 지원서 읽기 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"33",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"33")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="33",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 지원서 삭제 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"41",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"41")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="41",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 캘린더 생성 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"42",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"42")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="42",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 캘린더 읽기 권한 ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].permission,expression:"getClub.ranks[currentRank].permission"}],attrs:{type:"checkbox",value:"43",disabled:e.getClub.ranks[e.currentRank].isAdmin},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].permission)?e._i(e.getClub.ranks[e.currentRank].permission,"43")>-1:e.getClub.ranks[e.currentRank].permission},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].permission,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a="43",i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"permission",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"permission",t)}}}),n("span"),e._v(" 캘린더 삭제 권한 ")]),n("label",{staticClass:"admin"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.getClub.ranks[e.currentRank].isAdmin,expression:"getClub.ranks[currentRank].isAdmin"}],attrs:{type:"checkbox",disabled:"admin"==e.getClub.ranks[e.currentRank].name},domProps:{checked:Array.isArray(e.getClub.ranks[e.currentRank].isAdmin)?e._i(e.getClub.ranks[e.currentRank].isAdmin,null)>-1:e.getClub.ranks[e.currentRank].isAdmin},on:{change:function(r){var n=e.getClub.ranks[e.currentRank].isAdmin,s=r.target,t=!!s.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);s.checked?i<0&&e.$set(e.getClub.ranks[e.currentRank],"isAdmin",n.concat([a])):i>-1&&e.$set(e.getClub.ranks[e.currentRank],"isAdmin",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.getClub.ranks[e.currentRank],"isAdmin",t)}}}),n("span"),e._v(" 관리자 권한 ")])])]),n("div",{staticClass:"rankAction"},["admin"!=e.getClub.ranks[e.currentRank].name&&"default"!=e.getClub.ranks[e.currentRank].name?n("div",{staticClass:"delete",on:{click:function(r){return e.removeRank(e.currentRank)}}},[e._v("삭제")]):e._e()])])]),e.getOrderedMembers[e.currentUser]?n("div",{staticClass:"userInformation"},[n("div",{staticClass:"titlewrapper"},[n("h2",{staticClass:"name"},[e._v(e._s(e.getOrderedMembers[e.currentUser].user.name))]),n("h3",{staticClass:"rank"},[e._v(e._s(e.getRankString(e.getOrderedMembers[e.currentUser].rank)))])]),n("div",{staticClass:"userInformation__item rankSelect"},[n("h3",[e._v("역할")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.getOrderedMembers[e.currentUser].rank,expression:"getOrderedMembers[currentUser].rank"}],on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){var r="_value"in e?e._value:e.value;return r}));e.$set(e.getOrderedMembers[e.currentUser],"rank",r.target.multiple?n:n[0])}}},e._l(e.getClub.ranks,(function(r){return n("option",{key:r.id,domProps:{value:r.id}},[e._v(e._s(r.name))])})),0)]),n("div",{staticClass:"userInformation__item isPass"},[n("h3",[e._v("합격")]),n("p",[e._v(" 결과 확인에 보이기 "),n("SwitchButton",{model:{value:e.getOrderedMembers[e.currentUser].isPass,callback:function(r){e.$set(e.getOrderedMembers[e.currentUser],"isPass",r)},expression:"getOrderedMembers[currentUser].isPass"}})],1)]),n("div",{staticClass:"action"},[e.getOrderedMembers[e.currentUser].user._id!=e.getClub.owner?n("button",{staticClass:"fire",on:{click:e.fire}},[e._v("퇴출")]):e._e(),n("button",{staticClass:"save",on:{click:e.commit}},[e._v("변경 사항 저장")])])]):e._e()])])])},t=[],a=(n("55dd"),n("7514"),n("7f7f"),n("2b0e")),i=n("612e"),c=a["a"].extend({components:{SwitchButton:i["a"]},data:function(){return{members:[],sortKey:"",sortBy:!1,currentUser:0,currentRank:0}},created:function(){this.reload()},methods:{reload:function(){var e=this;this.$store.commit("pushLoading",{name:"GET_CLUB_DETAIL_MEMBERS",message:"동아리 맴버 불러오는 중"}),this.$store.dispatch("GET_CLUB_DETAIL_MEMBERS").then((function(r){e.$store.commit("clearLoading","GET_CLUB_DETAIL_MEMBERS"),e.members=r})).catch((function(e){}))},orderBy:function(e){this.sortKey==e?this.sortBy=!this.sortBy:this.sortKey=e},appendRank:function(){this.getClub.ranks.push({id:this.getClub.ranks[this.getClub.ranks.length-1].id+1,name:"이름",permission:[]}),this.currentRank=this.getClub.ranks.length-1},removeRank:function(e){this.currentRank=0,this.getClub.ranks.splice(e,1)},getRankString:function(e){return this.getClub.ranks.find((function(r){return r.id==e})).name},commit:function(){var e=this,r=!0;this.getClub.ranks.map((function(e){e.name.trim().length<=0&&(r=!1)})),r&&(this.$store.commit("pushLoading",{name:"CLUB_MODIFICATION",message:"동아리 맴버 수정 중"}),this.$store.dispatch("CLUB_MODIFICATION",{ranks:this.getClub.ranks,members:this.members.map((function(e){return e.user=e.user._id,e}))}).then((function(r){e.$store.commit("clearLoading","CLUB_MODIFICATION"),e.reload()})).catch((function(e){return console.log(e)})))},fire:function(){var e=this;this.$store.commit("pushLoading",{name:"CLUB_FIRE_MEMBER",message:"동아리 맴버 퇴출 중"}),this.$store.dispatch("CLUB_FIRE_MEMBER",{_id:this.getOrderedMembers[this.currentUser].user}).then((function(r){e.currentUser=0,e.$store.commit("clearLoading","CLUB_FIRE_MEMBER"),e.reload()})).catch((function(e){return console.log(e)}))}},computed:{getClub:function(){return this.$store.state.club},getOrderedMembers:function(){var e=this;return""==this.sortKey?this.members:this.members.sort((function(r,n){return e.sortBy?n[e.sortKey]>r[e.sortKey]?1:-1:r[e.sortKey]>n[e.sortKey]?1:-1}))}}}),u=c,o=(n("3dd1"),n("2877")),l=Object(o["a"])(u,s,t,!1,null,null,null);r["default"]=l.exports},df07:function(e,r,n){}}]);
//# sourceMappingURL=chunk-106ebf12.7514454c.js.map